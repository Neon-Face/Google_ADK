# Google ADK Learning Diary

> Zifeng

### 2025-08-05: 
1. API KEY
2. Use uv to mangae this project
3. Created the first agent and tool
4. Agent must be named `agent.py`
5. `root_agent` must be set
6. Agent cannot use `builtin tool` and `customized tool` at the same time  
7. `builtin tools` cannot be used in sub agents as well. (But it works when using agent as a tool)

### 2025-08-06: Finish Youtube Video: ADK Masterclass
1. Use `LiteLlm` to create one entry point of model selecting
2. Use words like `Only`, `UPPER CLASS` to limit the agent output
3. Structured output for agent. Use `pydantic` (BaseModel, Field).
	- `input_schema`
	- `output_schema`
	- `output_key` (store result in state, all other agent can access as well)
4. Also put defined schema in DOC string
5. Session has `State`(key and value) and `Event`(Everything happened between user and agent). A stateful message history. 
6. Runner has `Agents` and `Session`, so the runner know what sessions do we have are related (extract all the relevant states)  and what agents are available, then orchestrate the query to the agent. Agent response will be added in event. and Session will capture the event. Finally return to user. Always pass root_agent to Runner. Always use `runner.run_async`.
7. Look up `types` , `Content` and `types`
8. Persist storage in local database
	- DatabaseSessionService(db_url)
	- session_services contains all history session info, use `session_service.list_sessions()` to get all sessions
	- create `call_agent_async(runner, user_id, session_id, query)` to interact with app
	- `runner.run_async`  will return a event list. use a process_event to see if it's final response.
9. `Tool_Context` can get all states: tool_context.state.get("key", fall_back)
10. Question: Is Runner == App?
11. Folder structure: root_agent/sub_agents/sub_agent_1_folder
12. Agent description: tell root_agent WHEN to use it
13.  `Agent-as-a-tool` vs `Sub-agent`: Final answer is generated by `root_agent` or  `sub_agent`
14. Create initial state
15. Relationship between user, session, app
16. Can i use one agent session to deal with login and register?
17. A session can be a chat history? or a mini app?
18. Build a policy agent to help user understand how to use the app
19. Different between agent app and traditional app: In traditional app, we interact with functions by clicking buttons. While in agent-based app, we communicate what we want to do with the agent. I think it is a new way of interaction. Especially for elder people. So basically every clicking can be done by an agent. And with more imagination, we may have agentOS, agentSocialMedia, agentPhone in the future, which we don't need to click at all. (Do some research about if there are any companies developing this.))
20. Callback types: before and after (agent, model, tool)
21. need to pass CallbackContext for agent callback function, return Optional\[types.Content]
22. State is like a place to store all meta data of sessions